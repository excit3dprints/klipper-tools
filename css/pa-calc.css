/* ── PA Calculator Layout ─────────────────────────────────────────────────── */
.pa-layout {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 1.25rem;
    align-items: start;
}

.pa-sidebar { display: flex; flex-direction: column; gap: 1rem; }

@media (max-width: 900px) {
    /* Single column, main content first */
    .pa-layout {
        display: flex;
        flex-direction: column;
    }

    .pa-sidebar { order: 2; }
    .pa-main    { order: 1; }

    /* Inline settings row, hide how-to */
    .pa-sidebar .card:first-child .card-body {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem 1.5rem;
        align-items: center;
    }
    .pa-setting-row { margin-bottom: 0; }
    .pa-formula-note { width: 100%; margin-top: 0; }
    .pa-sidebar .card:last-child { display: none; }

    /* Cards: clip to their own width, let inner scroll containers handle overflow */
    .pa-main .card { overflow: hidden; }
    .pa-main .card-body { padding: 0.75rem 0.5rem; }

    /* Both input and output tables scroll horizontally inside their container */
    .pa-table-scroll {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        width: 100%;
    }

    /* Compact inputs */
    .pa-val-input   { width: 56px; font-size: 0.88rem; padding: 0.3rem 0.2rem; }
    .pa-speed-input { width: 68px; font-size: 0.85rem; }
    .pa-accel-input { width: 68px; font-size: 0.85rem; }
    .pa-corner      { min-width: 72px; }
    .pa-speed-col   { min-width: 100px; }

    /* Output strings: truncate long values so they don't break layout */
    .pa-output-str {
        font-size: 0.78rem;
        word-break: break-all;
    }
    .pa-output-table .pa-output-cell { min-width: 90px; padding: 0.35rem 0.4rem !important; }

    /* Copy All button constrained to card width */
    .pa-copy-all-row { flex-wrap: wrap; width: 100%; }
    .pa-copy-all-btn { width: 100%; box-sizing: border-box; }
}

/* ── Settings ─────────────────────────────────────────────────────────────── */
.pa-setting-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
}

.pa-setting-label { font-size: 0.88rem; color: var(--text-secondary); font-weight: 500; }
.pa-setting-unit  { font-size: 0.72rem; color: var(--text-muted); margin-left: 0.25rem; }

.pa-setting-input {
    width: 100px;
    text-align: right;
    padding: 0.4rem 0.6rem;
    font-size: 0.9rem;
    font-weight: 600;
}

.pa-formula-note {
    margin-top: 0.5rem;
    padding: 0.6rem 0.75rem;
    background: var(--bg-primary);
    border-radius: 4px;
    font-size: 0.75rem;
    color: var(--accent);
    font-family: 'SF Mono', Consolas, monospace;
    line-height: 1.5;
}

.pa-help-text { display: flex; flex-direction: column; gap: 0.4rem; }
.pa-help-text p { font-size: 0.85rem; color: var(--text-secondary); line-height: 1.5; }

/* ── PA Input Table ───────────────────────────────────────────────────────── */
.pa-table-scroll { overflow-x: auto; padding-bottom: 0.25rem; }

.pa-table {
    border-collapse: collapse;
    font-size: 0.88rem;
    min-width: 500px;
    width: 100%;
}

.pa-table th, .pa-table td {
    border: 1px solid var(--border-color);
    padding: 0.45rem 0.5rem;
    text-align: center;
}

.pa-table thead th {
    background: var(--bg-tertiary);
    color: var(--text-muted);
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 1;
}

.pa-corner {
    background: var(--bg-tertiary) !important;
    color: var(--text-muted) !important;
    font-size: 0.75rem;
    text-align: left !important;
    padding: 0.5rem 0.75rem !important;
    min-width: 100px;
}

.pa-speed-col { min-width: 130px; }
.pa-add-col   { border: none !important; background: none !important; padding: 0.3rem !important; }

.pa-header-group  { display: flex; flex-direction: column; align-items: center; gap: 0.2rem; }
.pa-header-label  { font-size: 0.65rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.4px; }

.pa-flow-header   { background: rgba(184,111,255,0.07) !important; }
.pa-flow-label    { color: var(--text-muted); font-size: 0.7rem; }
.pa-flow-val      { color: var(--accent); font-weight: 700; font-size: 1rem; }
.pa-flow-unit     { color: var(--text-muted); font-size: 0.65rem; }
.pa-flow-sub      { font-size: 0.75rem; color: var(--accent); font-weight: 600; }

/* Inputs inside table */
.pa-speed-input, .pa-accel-input {
    width: 90px;
    text-align: center;
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    padding: 0.35rem 0.4rem;
    border-radius: 3px;
    font-size: 0.9rem;
    font-weight: 600;
}

.pa-speed-input { color: #c9a0e8; }
.pa-accel-input { color: var(--warning); width: 90px; }
.pa-accel-cell  { background: var(--bg-tertiary) !important; }

.pa-val-input {
    width: 72px;
    text-align: center;
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    color: var(--accent);
    padding: 0.35rem 0.35rem;
    border-radius: 3px;
    font-size: 0.95rem;
    font-weight: 700;
}

.pa-val-input:focus, .pa-speed-input:focus, .pa-accel-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px var(--accent-glow);
}

.pa-cell { background: var(--bg-secondary); padding: 0.35rem !important; }

.pa-remove-col { border: none !important; background: none !important; padding: 0.15rem !important; }
.pa-remove-btn { background: none; border: 1px solid transparent; color: var(--text-muted); font-size: 0.72rem; padding: 0.2rem 0.4rem; border-radius: 3px; }
.pa-remove-btn:hover { border-color: var(--error); color: var(--error); background: rgba(244,63,94,0.1); }
.pa-add-btn { white-space: nowrap; }

/* ── Copy All row ─────────────────────────────────────────────────────────── */
.pa-copy-all-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.pa-copy-all-btn { flex: none; padding: 0.6rem 1.25rem; font-size: 0.88rem; }
.pa-copy-all-hint { font-size: 0.78rem; color: var(--text-muted); }

/* ── PA Output Table ──────────────────────────────────────────────────────── */
.pa-output-table .pa-output-cell {
    background: rgba(184,111,255,0.04);
    padding: 0.45rem 0.6rem !important;
    min-width: 160px;
}

.pa-output-str {
    font-size: 0.88rem;
    font-weight: 600;
    color: var(--accent);
    display: block;
    margin-bottom: 0.3rem;
}

.pa-copy-btn { font-size: 0.68rem; padding: 0.15rem 0.45rem; }

.pa-output-table .pa-accel-cell {
    color: var(--warning);
    font-size: 0.9rem;
    font-weight: 700;
}
